<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>謝爾夏|休息室</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  <!-- Supabase JS v2 -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    :root{
      --room-bg: url("https://shierusha.github.io/library/img/ROOM.webp");
      --panel-bg: #ffffffec;
      --panel-stroke: rgba(0,0,0,.08);
      --text: #1f2937;
      --radius-2xl: 24px;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin: 0;
      font-family: "Noto Sans TC",ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue","PingFang TC","Microsoft JhengHei",sans-serif;
      color: var(--text);
      background: #0b1020;
    }

    /* 中央房間容器 */
    .room-wrap{
      width: 90vw;
      max-width: 1600px;
      aspect-ratio: 3/2;
      margin: 4vh auto;
      position: relative;
      background-image: var(--room-bg);
      background-size: cover;
      background-position: center;
      border-radius: var(--radius-2xl);
      box-shadow: 0 10px 40px rgba(0,0,0,.35);
      overflow: hidden;
    }

    /* 書架上的書群組容器 */
    .book{
      position: absolute;
      left: 5.5%;
      width: 23%;
      height: 12%;
    }
    .book img{
      position: absolute;
      bottom: 0%;
      width: 20%;
    }

    .book-btn{
      position: absolute;
      bottom: 65%;
      width: 24%;
      left: 5%;
      height: 27%;
      background: transparent; /* 透明背景 */
      border: 0;               /* 無邊框 */
      padding: 0;
      cursor: pointer;
    }

    /* 共用 modal 樣式（orientation + library） */
    .modal-overlay{
      position:fixed;inset:0;background:rgba(0,0,0,.55);
      display:flex;align-items:center;justify-content:center;z-index:9999;
      padding:24px;
    }
    .modal-content{
      background:var(--panel-bg,#ffffffe8);
      border:1px solid var(--panel-stroke,rgba(0,0,0,.06));
      border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.35);
      overflow:hidden;max-width:920px;width:92%;
    }
    .modal-header{padding:14px 16p
